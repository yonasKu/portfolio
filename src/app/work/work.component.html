<div class="container">
  <div class="section-heading text-center text-lg-start">
    <h6>Recent Works</h6>
    <h2>Featured Projects</h2>
    <div class="heading-description">
      <p>Showcasing some of my recent developments and innovations</p>
    </div>
  </div>

  <div class="projects-container">
    <button class="nav-btn prev-btn" (click)="previousSlide()">
      <i class="fas fa-chevron-left"></i>
    </button>

    <div class="projects-grid" #projectsGrid>
      <!-- Project Card Loop -->
      <div class="project-card" *ngFor="let project of projects">
        <div class="project-image">
          <img [src]="project.imageSrc" [alt]="project.title + ' Project'" />
          <div class="project-overlay">
            <div class="project-links">
              <a
                *ngIf="project.githubLink"
                [href]="project.githubLink"
                target="_blank"
                title="View Code"
                (click)="$event.stopPropagation()"
              >
                <i class="fab fa-github"></i>
              </a>
              <a
                *ngIf="project.liveLink"
                [href]="project.liveLink"
                target="_blank"
                title="Live Demo"
                (click)="$event.stopPropagation()"
              >
                <i class="fas fa-external-link-alt"></i>
              </a>
              <span
                *ngIf="project.status"
                class="status-badge"
                (click)="$event.stopPropagation()"
                >{{ project.status }}</span
              >
            </div>
          </div>
        </div>
        <div class="project-content">
          <div class="project-tags">
            <span *ngFor="let tag of project.tags">{{ tag }}</span>
          </div>
          <h3>{{ project.title }}</h3>
          <p>{{ project.description }}</p>
          <div class="project-features">
            <ul>
              <li *ngFor="let feature of project.features">{{ feature }}</li>
            </ul>
          </div>
        </div>
        <button
          class="details-button"
          (click)="openModal(project); $event.stopPropagation()"
        >
          View Details
        </button>
      </div>
      <!-- End Project Card Loop -->
    </div>

    <button class="nav-btn next-btn" (click)="nextSlide()">
      <i class="fas fa-chevron-right"></i>
    </button>
  </div>

  <div class="navigation-dots">
    <span
      *ngFor="let dot of dots; let i = index"
      [class.active]="currentSlide === i"
      (click)="goToSlide(i)"
    >
    </span>
  </div>

  <div class="work-cta">
    <h3>Want to See More?</h3>
    <p>Check out my GitHub profile for more projects and contributions.</p>
    <a href="https://github.com/yonasKu" target="_blank" class="px-btn">
      <i class="fab fa-github"></i> Visit GitHub Profile
    </a>
  </div>

  <app-project-detail-modal
    *ngIf="isModalVisible"
    [project]="selectedProject"
    (closeModalEvent)="closeModal()"
  ></app-project-detail-modal>
</div>
